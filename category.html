<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deals — ShopWave</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --accent:#ff6b01;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 8px 28px rgba(16,24,40,0.06);
      font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:#111827;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
    }

    /* Header */
    header {
      background: linear-gradient(90deg,#061224 0%, #0b1730 100%);
      color: #fff;
      padding: 20px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.12);
      position: sticky;
      top:0;
      z-index:100;
    }
    .head-inner {
      max-width:1200px;
      margin:0 auto;
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      padding:0 16px;
    }
    .brand { display:flex; gap:12px; align-items:center; text-decoration:none; color:white; }
    .brand img{ width:44px; height:44px; border-radius:8px; object-fit:cover; }
    .brand h1{ font-size:18px; margin:0; letter-spacing:0.2px; }
    .sub { color: rgba(255,255,255,0.85); font-weight:500; font-size:13px; }

    /* Hero */
    .hero {
      max-width:1200px;
      margin:24px auto;
      padding:20px;
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:20px;
      align-items:center;
    }
    .hero-card {
      background:linear-gradient(180deg,#fff,#fbfdff);
      border-radius:var(--radius);
      padding:22px;
      box-shadow:var(--shadow);
    }
    .hero-card h2 { margin:0 0 8px 0; font-size:22px; }
    .hero-card p { color:var(--muted); margin:0 0 14px 0; }

    /* Filters */
    .filters {
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:12px;
      flex-wrap:wrap;
    }
    .search {
      flex:1;
      display:flex;
      background:#fff;
      border-radius:999px;
      padding:8px 10px;
      align-items:center;
      gap:8px;
      border:1px solid rgba(16,24,40,0.04);
    }
    .search input{
      border:0; outline:none; font-size:14px; padding:6px; width:100%;
    }
    .select, .btn {
      background:#fff;
      padding:8px 12px;
      border-radius:10px;
      border:1px solid rgba(16,24,40,0.04);
      cursor:pointer;
      font-weight:600;
    }

    /* Deals grid */
    .deals {
      max-width:1200px;
      margin: 0 auto 80px auto;
      padding: 0 16px;
    }
    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:18px;
      margin-top:10px;
    }
    .card {
      background:var(--card);
      border-radius:12px;
      overflow:hidden;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      transition:transform .18s, box-shadow .18s;
    }
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 14px 40px rgba(16,24,40,0.08);
    }
    .media {
      height:160px;
      background:#eee;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .media img { width:100%; height:100%; object-fit:cover; display:block; }

    .badge {
      position:absolute;
      left:10px; top:10px;
      background:var(--accent);
      color:white;
      padding:6px 8px;
      border-radius:8px;
      font-weight:700;
      font-size:13px;
      box-shadow: 0 6px 18px rgba(255,107,1,0.16);
    }
    .fav {
      position:absolute;
      right:10px; top:10px;
      background:rgba(255,255,255,0.92);
      padding:6px;
      border-radius:8px;
      font-size:14px;
      cursor:pointer;
    }

    .body {
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex:1;
    }
    .title { font-weight:700; font-size:15px; margin-bottom:4px; }
    .desc { color:var(--muted); font-size:13px; margin-bottom:6px; flex:0; }
    .price-row { display:flex; align-items:center; gap:12px; }
    .price { font-weight:800; font-size:16px; }
    .old { color:var(--muted); text-decoration:line-through; font-size:13px; }
    .rating { margin-left:auto; color:#f59e0b; font-weight:700; font-size:13px; }

    .countdown { color:var(--accent); font-weight:700; font-size:13px; margin-top:4px; }

    .actions {
      display:flex;
      gap:10px;
      margin-top:auto;
    }
    .btn-primary {
      background:var(--accent);
      color:white;
      border:0;
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      flex:1;
      font-weight:700;
    }
    .btn-outline {
      background:white;
      border:1px solid rgba(16,24,40,0.06);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }

    /* Empty / no results */
    .empty {
      text-align:center;
      color:var(--muted);
      padding:30px;
      background:white;
      border-radius:12px;
      box-shadow:var(--shadow);
    }

    /* Responsive */
    @media (max-width:960px){
      .hero { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <header>
    <div class="head-inner" role="navigation" aria-label="Main">
      <a class="brand" href="#">
        <img src="https://images.unsplash.com/photo-1602526438930-8f3b4b439a0f?q=80&w=400&auto=format&fit=crop&s=placeholder" alt="logo">
        <div>
          <h1 style="margin:0;font-size:16px">ShopWave</h1>
          <div class="sub">Daily deals & special offers</div>
        </div>
      </a>

      <div style="display:flex;gap:12px;align-items:center">
        <div class="sub">Free shipping over ₹999</div>
        <button class="select" onclick="window.location='#'">My Orders</button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-card">
        <h2>Hot Deals — Limited Time Offers</h2>
        <p>Grab handpicked deals across categories. Discounts, bundle offers and flash sales — updated daily.</p>

        <div class="filters" aria-label="Filter and sort">
          <div class="search" role="search">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <input id="searchInput" type="search" placeholder="Search deals, brands, items..." aria-label="Search deals">
          </div>

          <select id="categorySelect" class="select" aria-label="Filter by category">
            <option value="all">All categories</option>
            <option value="electronics">Electronics</option>
            <option value="fashion">Fashion</option>
            <option value="home">Home & Kitchen</option>
            <option value="beauty">Beauty</option>
            <option value="sports">Sports</option>
          </select>

          <select id="sortSelect" class="select" aria-label="Sort deals">
            <option value="featured">Featured</option>
            <option value="low-high">Price: Low to High</option>
            <option value="high-low">Price: High to Low</option>
            <option value="ending-soon">Ending Soon</option>
          </select>

          <button class="btn" id="clearFilters">Reset</button>
        </div>

        <div style="margin-top:8px;color:var(--muted);font-size:13px">
          Showing <span id="resultCount">0</span> deals
        </div>
      </div>

      <aside class="hero-card" aria-labelledby="asideTitle">
        <h3 id="asideTitle" style="margin-top:0">Flash Sale</h3>
        <p class="desc">Extra 10% off on select electronics. Coupon: <strong>SAVE10</strong></p>

        <div style="margin-top:12px">
          <div style="display:flex;gap:10px;align-items:center;">
            <img src="https://source.unsplash.com/120x90/?headphones" alt="" style="width:120px;height:90px;border-radius:10px;object-fit:cover">
            <div>
              <div style="font-weight:700">Wireless Headset</div>
              <div style="color:var(--muted);font-size:13px">Was ₹2,499 — Now ₹1,799</div>
            </div>
          </div>
        </div>

        <div style="margin-top:16px">
          <button class="btn-primary" style="width:100%">Shop Flash Sale</button>
        </div>
      </aside>
    </section>

    <section class="deals" aria-live="polite">
      <div id="grid" class="grid" role="list">
        <!-- Cards will be injected by JS -->
      </div>

      <div id="noResults" class="empty" style="display:none;margin-top:18px;">
        No deals match your search. Try a different filter.
      </div>
    </section>
  </main>

  <script>
    // Demo deals dataset (replace with real data or server endpoint)
    const deals = [
      { id:1, title:"4K Smart LED TV 50\"", category:"electronics", price:28999, oldPrice:34999, img:"https://source.unsplash.com/600x400/?tv", discount:17, rating:4.4, endsAt: Date.now() + 1000*60*60*28 },
      { id:2, title:"Running Shoes — Lightweight", category:"sports", price:2499, oldPrice:4999, img:"https://source.unsplash.com/600x400/?shoes", discount:50, rating:4.6, endsAt: Date.now() + 1000*60*60*6 },
      { id:3, title:"Wireless Earbuds", category:"electronics", price:1299, oldPrice:2999, img:"https://source.unsplash.com/600x400/?earbuds", discount:57, rating:4.2, endsAt: Date.now() + 1000*60*60*48 },
      { id:4, title:"Men's Denim Jacket", category:"fashion", price:1999, oldPrice:3999, img:"https://source.unsplash.com/600x400/?jacket", discount:50, rating:4.1, endsAt: Date.now() + 1000*60*30 },
      { id:5, title:"Air Fryer 6L", category:"home", price:4499, oldPrice:7999, img:"https://source.unsplash.com/600x400/?airfryer", discount:44, rating:4.5, endsAt: Date.now() + 1000*60*60*90 },
      { id:6, title:"Organic Face Serum", category:"beauty", price:799, oldPrice:1499, img:"https://source.unsplash.com/600x400/?beauty,serum", discount:47, rating:4.7, endsAt: Date.now() + 1000*60*60*2 },
      { id:7, title:"Kids Educational Toy Set", category:"toys", price:599, oldPrice:999, img:"https://source.unsplash.com/600x400/?toys", discount:40, rating:4.3, endsAt: Date.now() + 1000*60*60*12 },
      { id:8, title:"Smartphone — 8GB/128GB", category:"electronics", price:13999, oldPrice:19999, img:"https://source.unsplash.com/600x400/?smartphone", discount:30, rating:4.5, endsAt: Date.now() + 1000*60*60*72 }
    ];

    const grid = document.getElementById('grid');
    const resultCount = document.getElementById('resultCount');
    const noResults = document.getElementById('noResults');

    // Utilities
    function formatINR(n){ return '₹' + n.toLocaleString('en-IN'); }

    // Render a single card element
    function createCard(d){
      const el = document.createElement('article');
      el.className = 'card';
      el.setAttribute('role','listitem');
      el.innerHTML = `
        <div class="media">
          <img src="${d.img}" alt="${escapeHtml(d.title)}">
          <div class="badge">${d.discount}% OFF</div>
          <button class="fav" title="Add to wishlist" aria-label="Add ${escapeHtml(d.title)} to wishlist">♡</button>
        </div>
        <div class="body">
          <div>
            <div class="title">${escapeHtml(d.title)}</div>
            <div class="desc">${capitalize(d.category)} • Best deal</div>
          </div>

          <div class="price-row">
            <div>
              <div class="price">${formatINR(d.price)}</div>
              <div class="old">${formatINR(d.oldPrice)}</div>
            </div>
            <div class="rating">★ ${d.rating}</div>
          </div>

          <div class="countdown" data-ends="${d.endsAt}" id="cd-${d.id}">
            Ends in: <span class="time">--:--:--</span>
          </div>

          <div class="actions">
            <button class="btn-primary" data-id="${d.id}">Add to cart</button>
            <button class="btn-outline" onclick="viewDetails(${d.id})">View</button>
          </div>
        </div>
      `;
      return el;
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
    }
    function capitalize(s){ return s.charAt(0).toUpperCase() + s.slice(1); }

    // Render grid based on current filters/sort
    function renderList(list){
      grid.innerHTML = '';
      if(!list.length){
        noResults.style.display = 'block';
      } else {
        noResults.style.display = 'none';
        list.forEach(d => grid.appendChild(createCard(d)));
      }
      resultCount.textContent = list.length;
      startAllCountdowns();
      attachAddToCart();
    }

    // Initial render
    renderList(deals);

    // Filters & Sort handlers
    const searchInput = document.getElementById('searchInput');
    const categorySelect = document.getElementById('categorySelect');
    const sortSelect = document.getElementById('sortSelect');
    const clearFiltersBtn = document.getElementById('clearFilters');

    function applyFilters(){
      const q = searchInput.value.trim().toLowerCase();
      const cat = categorySelect.value;
      let filtered = deals.filter(d => {
        const matchQ = !q || d.title.toLowerCase().includes(q) || d.category.toLowerCase().includes(q);
        const matchCat = (cat === 'all') || d.category === cat;
        return matchQ && matchCat;
      });

      const sort = sortSelect.value;
      if(sort === 'low-high') filtered.sort((a,b)=>a.price-b.price);
      else if(sort === 'high-low') filtered.sort((a,b)=>b.price-a.price);
      else if(sort === 'ending-soon') filtered.sort((a,b)=>a.endsAt - b.endsAt);
      // 'featured' keeps default order

      renderList(filtered);
    }

    searchInput.addEventListener('input', debounce(applyFilters, 250));
    categorySelect.addEventListener('change', applyFilters);
    sortSelect.addEventListener('change', applyFilters);
    clearFiltersBtn.addEventListener('click', () => {
      searchInput.value=''; categorySelect.value='all'; sortSelect.value='featured'; applyFilters();
    });

    // Debounce utility
    function debounce(fn, wait){
      let t;
      return function(...args){
        clearTimeout(t);
        t = setTimeout(()=>fn.apply(this,args), wait);
      }
    }

    // Simple "Add to cart" demo
    function attachAddToCart(){
      document.querySelectorAll('.btn-primary').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          const id = btn.getAttribute('data-id');
          const item = deals.find(x => x.id==id);
          alert('Added to cart: ' + item.title + ' — ' + formatINR(item.price));
        });
      });
    }

    function viewDetails(id){
      const item = deals.find(d=>d.id==id);
      alert('View details (demo): ' + item.title + '\\nPrice: ' + formatINR(item.price));
    }

    // Countdown timers
    let countdownIntervals = [];
    function startAllCountdowns(){
      // clear old intervals
      countdownIntervals.forEach(i=>clearInterval(i));
      countdownIntervals = [];

      document.querySelectorAll('.countdown').forEach(el=>{
        const ends = Number(el.getAttribute('data-ends'));
        const span = el.querySelector('.time');

        function update(){
          const now = Date.now();
          let diff = ends - now;
          if(diff <= 0){ span.textContent = 'Expired'; el.style.color = '#b91c1c'; return; }
          const hrs = Math.floor(diff / (1000*60*60));
          diff -= hrs * (1000*60*60);
          const mins = Math.floor(diff / (1000*60));
          diff -= mins * (1000*60);
          const secs = Math.floor(diff / 1000);
          span.textContent = `${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
        }
        update();
        const it = setInterval(update, 1000);
        countdownIntervals.push(it);
      });
    }

    function pad(n){ return String(n).padStart(2,'0'); }

    // Initialize countdowns for initial render
    startAllCountdowns();

    // Helpers
    document.addEventListener('click', (e)=>{
      // demo: toggle wishlist heart
      if(e.target.closest('.fav')){
        const btn = e.target.closest('.fav');
        btn.textContent = btn.textContent.trim() === '♡' ? '♥' : '♡';
      }
    });

    // Accessibility: support Enter key on search to apply
    searchInput.addEventListener('keydown', (e) => {
      if(e.key === 'Enter') applyFilters();
    });

    // Update result count on initial load
    resultCount.textContent = deals.length;

  </script>
</body>
</html>
